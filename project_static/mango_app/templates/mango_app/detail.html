{% extends 'mango_app/base.html' %}
{% load static %}

{% block title %}{{ item.name }} - Details{% endblock %}

{% block content %}
<div class="breadcrumbs">
    <a href="{% url 'mango_app:home' %}">Home</a> &gt;
    <a href="{% url 'mango_app:projects' %}">Projects</a> &gt;
    <span>{{ item.name }}</span>
</div>

<h1>{{ item.name }}</h1>

<div class="detail-container">
    <!-- Detail Header Section -->
    <div class="detail-header">
        <div class="detail-image">
            <img src="{% static item.image_path %}" alt="{{ item.name }}">
        </div>
        <div class="detail-meta">
            <h2>{{ item.name }}</h2>
            <p class="scientific-name">{{ item.scientific_name }}</p>
            <p class="item-type">Type: {{ item.get_item_type_display }}</p>
        </div>
    </div>
    
    <!-- Detail Content Section -->
    <div class="detail-content">
        <div class="card">
            <h3>Overview</h3>
            <p>{{ item.description }}</p>
        </div>
        
        <div class="card">
            <h3>Detailed Information</h3>
            <p>{{ item.detailed_info }}</p>
        </div>
        
        <div class="card">
            <h3>Surveillance Recommendations</h3>
            {% if item.item_type == 'pest' %}
            <ul class="recommendations-list">
                <li>Conduct regular inspections at least once every two weeks during critical growth periods.</li>
                <li>Pay special attention to new growth, flowering parts, and developing fruit.</li>
                <li>Use a hand lens to inspect for small pests like scale insects and mites.</li>
                <li>Install and regularly check pest traps (sticky traps, pheromone traps).</li>
                <li>Keep records of all observations, including pest-free inspections.</li>
            </ul>
            {% else %}
            <ul class="recommendations-list">
                <li>Monitor trees weekly during flowering and fruit development stages.</li>
                <li>Increase monitoring frequency during wet and humid conditions.</li>
                <li>Examine both upper and lower leaf surfaces for disease symptoms.</li>
                <li>Sample suspicious plant material for laboratory diagnosis when needed.</li>
                <li>Keep detailed records of all observations, including weather conditions.</li>
            </ul>
            {% endif %}
        </div>
    </div>
    
    <!-- Related Items Section -->
    <div class="related-items">
        <h3>Related {{ item.get_item_type_display }}s</h3>
        <div class="related-items-grid">
            <!-- This would be populated with actual related items in a full implementation -->
            <p>See the <a href="{% url 'mango_app:projects' %}">full list of pests and diseases</a> for more information.</p>
        </div>
    </div>
</div>

<!-- Back to Projects Button -->
<div class="action-buttons">
    <a href="{% url 'mango_app:projects' %}" class="button">Back to All Projects</a>
    
    {% if item.item_type == 'pest' %}
    <a href="{% url 'mango_app:pests' %}" class="button">View All Pests</a>
    {% else %}
    <a href="{% url 'mango_app:diseases' %}" class="button">View All Diseases</a>
    {% endif %}
</div>
{% endblock %}